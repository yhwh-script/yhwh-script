<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/javascript.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./assets/style/default.css">
  <title>yhwh-script</title>
</head>

<body></body>

<script type="module">
  Promise.all([
    import('@yhwh-script/event-bux'),
    import('@yhwh-script/sqlite')
  ]).then((importedModules) => {
    importedModules.forEach((module) => {
      if (!module.name) {
        throw new Error('Missing name in imported module.');
      }
      window[module.name] = module;
    });
    return import('@yhwh-script/shadow-h4x');
    // TODO fix! There might be some racecondition here in dev-mode. Use build & preview.
  }).finally(() => {
    // boot children in a valid environment :)
    const root = document.getElementsByTagName('body')[0];
    root.innerHTML = '<router-app></router-app>';
  });
</script>

</html>